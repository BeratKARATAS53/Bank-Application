(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,c,e){t.exports=e("zUnb")},zUnb:function(t,c,e){"use strict";e.r(c);var n=e("fXoL"),r=e("jhN1"),o=e("3Pt+"),a=e("ofXK");let i=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275cmp=n.Gb({type:t,selectors:[["app-ErrorPage"]],decls:8,vars:0,consts:[[1,"main"],[1,"container"],[1,"row"],["src","../../../assets/img/404.jpg",1,"mx-auto","d-block"],[1,"mx-auto","d-block"],["href","/main","role","button",1,"btn","btn-primary"]],template:function(t,c){1&t&&(n.Rb(0,"div",0),n.Rb(1,"div",1),n.Rb(2,"div",2),n.Nb(3,"img",3),n.Qb(),n.Rb(4,"div",2),n.Rb(5,"div",4),n.Rb(6,"a",5),n.Ac(7," GO TO HOME PAGE "),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb())},styles:[""]}),t})();var s=e("mrSG");class u{}class b{}class l{}var d=e("Texg"),m=new class extends d.a{constructor(){super("BankApplicationDB"),this.version(1).stores({customers:"++id,[&username+password]",accounts:"++id,customerName,accountName,&accountNumber,amount,currency,rate,date",transfers:"++id,transferType,cSendName,cSendAccountName,cSendAccountNumber,cSendAccountAmount,cSendAccountCurrency,cReceiveName,cReceiveAccountName,cReceiveAccountNumber,cReceiveAccountAmount,amount,description,date"}),this.customers.mapToClass(l),this.accounts.mapToClass(b),this.transfers.mapToClass(u)}};let h=(()=>{class t{constructor(){}addTransfer(t,c,e,n,r,o,a,i,s,u,b,l,d){m.transfers.put({transferType:t,cSendName:c,cSendAccountName:e,cSendAccountNumber:n,cSendAccountAmount:r,cSendAccountCurrency:o,cReceiveName:a,cReceiveAccountName:i,cReceiveAccountNumber:s,cReceiveAccountAmount:u,amount:b,description:l,date:d}).then(()=>{alert("Transfer Ba\u015far\u0131yla Eklendi."),window.location.reload()}).catch(t=>{alert("Hata Olu\u015ftu: "+t)})}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275prov=n.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function f(t){return Object(s.a)(this,void 0,void 0,(function*(){return yield m.transfers.where("cSendName").equalsIgnoreCase(t).reverse().toArray()}))}function g(t){return Object(s.a)(this,void 0,void 0,(function*(){return yield m.transfers.where("cReceiveName").equalsIgnoreCase(t).and(c=>c.cSendName!==t).reverse().toArray()}))}var p=e("tyNb");let A=(()=>{class t{constructor(t){this.router=t}ngOnInit(){}getToken(){return localStorage.getItem("token")}setToken(t){localStorage.setItem("token",t)}register(t,c){m.customers.put({username:t,password:c}).then(()=>{alert("Kay\u0131t Ba\u015far\u0131l\u0131"),this.router.navigateByUrl("/login")}).catch(t=>{alert("Bu \u0130sim Kullan\u0131lmakta! Ba\u015fka Bir Kullan\u0131c\u0131 Ad\u0131 Deneyiniz!")})}login(t,c){m.customers.where({username:t,password:c}).toArray().then(t=>{0===t.length?alert("Hatal\u0131 Ya Da Eksik Bilgi Girdiniz!"):t.forEach(t=>{t&&(alert("Giri\u015f Ba\u015far\u0131l\u0131"),this.setToken(t.username),this.router.navigateByUrl("/"))})}).catch(t=>{console.log(t)})}logOut(){localStorage.clear(),window.location.reload()}}return t.\u0275fac=function(c){return new(c||t)(n.Zb(p.b))},t.\u0275prov=n.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),R=(()=>{class t{constructor(){}ngOnInit(){}addAccount(t,c,e,n,r,o,a){m.accounts.put({customerName:t,accountName:c,accountNumber:e,amount:n,currency:r,rate:o,date:a}).then(()=>{alert("Hesap Ba\u015far\u0131yla Eklendi."),window.location.reload()}).catch(t=>{alert("Hata Olu\u015ftu: "+t)})}updateAccount(t,c){m.accounts.update(t,{amount:c}).then(t=>{console.log("G\xfcncellendi","-",t)}).catch(t=>{alert("Hata Olu\u015ftu: "+t)})}updateAccountByTransfer(t,c,e,n){m.accounts.update(t,{amount:e}).then(t=>{m.accounts.update(c,{amount:n}).then(t=>{console.log("G\xfcncellendi, Al\u0131c\u0131","-",t)}).catch(t=>console.log("Alan Kullan\u0131c\u0131 Hatas\u0131",t)),console.log("G\xfcncellendi, G\xf6nderen","-",t)}).catch(t=>{alert("G\xf6nderen Kullan\u0131c\u0131 Hatas\u0131: "+t)})}deleteAccount(t){m.accounts.delete(t).then(()=>{alert("Hesap Ba\u015far\u0131yla Silindi."),window.location.reload()}).catch(t=>{alert("Hata Olu\u015ftu: "+t)})}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275prov=n.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function v(t){return Object(s.a)(this,void 0,void 0,(function*(){return yield m.accounts.where("customerName").equalsIgnoreCase(t).reverse().toArray()}))}function y(t){return Object(s.a)(this,void 0,void 0,(function*(){return yield m.accounts.where("customerName").equalsIgnoreCase(t).count()}))}function Q(t){return Object(s.a)(this,void 0,void 0,(function*(){return yield m.accounts.where("accountNumber").equals(t).primaryKeys()}))}function z(t,c){return Object(s.a)(this,void 0,void 0,(function*(){return yield m.accounts.where({customerName:t}).and(t=>t.accountNumber==c).toArray()}))}let N=(()=>{class t{constructor(){this.currencies={$:6,"\u20ac":7,"Alt\u0131n":390,TL:1}}convertForAddAccount(t,c,e){return e*(this.currencies[c]/this.currencies[t])}convertForAddTransfer(t,c,e){return e/(this.currencies[c]/this.currencies[t])}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275prov=n.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var k=e("sYmb");let C=(()=>{class t{transform(t){return Math.round(100*t)/100}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275pipe=n.Lb({name:"myCurrency",type:t,pure:!0}),t})();function w(t,c){if(1&t){const t=n.Sb();n.Rb(0,"button",11),n.dc("click",(function(){n.sc(t);const c=n.fc().$implicit;return n.fc(2).deleteAccount(c.accountNumber)})),n.Ac(1),n.gc(2,"translate"),n.Qb()}2&t&&(n.zb(1),n.Cc(" ",n.hc(2,1,"account.deleteAccount")," "))}function B(t,c){if(1&t){const t=n.Sb();n.Rb(0,"div",4),n.Rb(1,"div",5),n.Rb(2,"div",6),n.Rb(3,"h5",7),n.Ac(4),n.Qb(),n.Rb(5,"p",8),n.Ac(6),n.gc(7,"translate"),n.Qb(),n.Rb(8,"p",8),n.Ac(9),n.gc(10,"translate"),n.Qb(),n.Rb(11,"p",8),n.Ac(12),n.gc(13,"translate"),n.gc(14,"myCurrency"),n.Qb(),n.Qb(),n.yc(15,w,3,3,"button",9),n.Rb(16,"button",10),n.dc("click",(function(){n.sc(t);const e=c.$implicit;return n.fc(2).gotoDetails(e.accountNumber)})),n.Ac(17),n.gc(18,"translate"),n.Qb(),n.Qb(),n.Qb()}if(2&t){const t=c.$implicit;n.zb(4),n.Dc(" ",t.accountName," (",t.currency,") "),n.zb(2),n.Dc(" ",n.hc(7,10,"account.accountName")," ",t.accountNumber," "),n.zb(3),n.Dc(" ",n.hc(10,12,"account.rate"),": %",t.rate," "),n.zb(3),n.Dc(" ",n.hc(13,14,"account.amount"),": ",n.hc(14,16,t.amount)," "),n.zb(3),n.kc("ngIf",0==t.amount),n.zb(2),n.Cc(" ",n.hc(18,18,"account.details")," ")}}function S(t,c){if(1&t&&(n.Rb(0,"div",2),n.yc(1,B,19,20,"div",3),n.Qb()),2&t){const t=n.fc();n.zb(1),n.kc("ngForOf",t.accounts)}}function I(t,c){1&t&&(n.Rb(0,"h4"),n.Ac(1),n.gc(2,"translate"),n.Qb()),2&t&&(n.zb(1),n.Bc(n.hc(2,1,"account.noAccounts")))}let T=(()=>{class t{constructor(t,c,e,n,r){this.route=t,this.router=c,this.session=e,this.accountService=n,this.currencyService=r,e.getToken()?this.getFirst(e.getToken()):this.router.navigateByUrl("/login")}getFirst(t){return Object(s.a)(this,void 0,void 0,(function*(){this.username=this.session.getToken(),yield v(t).then(t=>this.accounts=t),yield y(t).then(t=>this.numberOfAccounts=t)}))}ngOnInit(){}deleteAccount(t){return Object(s.a)(this,void 0,void 0,(function*(){let c;yield Q(t).then(t=>{c=t[0],console.log(t)}),this.accountService.deleteAccount(c)}))}gotoDetails(t){this.router.navigate(["/account/",t])}}return t.\u0275fac=function(c){return new(c||t)(n.Mb(p.a),n.Mb(p.b),n.Mb(A),n.Mb(R),n.Mb(N))},t.\u0275cmp=n.Gb({type:t,selectors:[["app-AccountCard"]],decls:3,vars:2,consts:[["class","row card-group",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"row","card-group"],["class","col-4",4,"ngFor","ngForOf"],[1,"col-4"],[1,"card"],[2,"margin","20px"],[1,"card-title"],[1,"card-text"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,c){if(1&t&&(n.yc(0,S,2,1,"div",0),n.yc(1,I,3,3,"ng-template",null,1,n.zc)),2&t){const t=n.rc(2);n.kc("ngIf",c.numberOfAccounts)("ngIfElse",t)}},directives:[a.j,a.i],pipes:[k.c,C],styles:[""]}),t})(),F=(()=>{class t{transform(t,c){return t<0?Math.abs(t):t}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275pipe=n.Lb({name:"absoluteValue",type:t,pure:!0}),t})();function O(t,c){if(1&t&&(n.Rb(0,"tr"),n.Rb(1,"td"),n.Ac(2),n.Qb(),n.Rb(3,"td"),n.Ac(4),n.Qb(),n.Rb(5,"td"),n.Ac(6),n.gc(7,"myCurrency"),n.Qb(),n.Rb(8,"td"),n.Ac(9),n.Qb(),n.Qb()),2&t){const t=c.$implicit;n.zb(2),n.Bc(t.cSendAccountNumber),n.zb(2),n.Bc(t.cReceiveAccountNumber),n.zb(2),n.Dc(" ",n.hc(7,5,t.amount)," ",t.cSendAccountCurrency," "),n.zb(3),n.Bc(t.description)}}function M(t,c){if(1&t&&(n.Rb(0,"tr"),n.Rb(1,"td"),n.Ac(2),n.Qb(),n.Rb(3,"td"),n.Ac(4),n.Qb(),n.Rb(5,"td"),n.Ac(6),n.gc(7,"myCurrency"),n.gc(8,"absoluteValue"),n.Qb(),n.Rb(9,"td"),n.Ac(10),n.Qb(),n.Qb()),2&t){const t=c.$implicit;n.zb(2),n.Bc(t.cSendAccountNumber),n.zb(2),n.Bc(t.cReceiveAccountNumber),n.zb(2),n.Dc(" ",n.hc(7,5,n.hc(8,7,t.amount))," ",t.cSendAccountCurrency," "),n.zb(4),n.Bc(t.description)}}function q(t,c){if(1&t&&(n.Rb(0,"div"),n.Rb(1,"table",7),n.Rb(2,"thead",8),n.Rb(3,"tr"),n.Rb(4,"th"),n.Ac(5),n.gc(6,"translate"),n.Qb(),n.Rb(7,"th"),n.Ac(8),n.gc(9,"translate"),n.Qb(),n.Rb(10,"th"),n.Ac(11),n.gc(12,"translate"),n.Qb(),n.Rb(13,"th"),n.Ac(14),n.gc(15,"translate"),n.Qb(),n.Qb(),n.Qb(),n.yc(16,O,10,7,"tr",9),n.yc(17,M,11,9,"tr",9),n.Qb(),n.Qb()),2&t){const t=n.fc();n.zb(5),n.Cc(" ",n.hc(6,6,"transfer.sendAccountNumber")," "),n.zb(3),n.Cc(" ",n.hc(9,8,"transfer.receiveAccountNumber")," "),n.zb(3),n.Bc(n.hc(12,10,"account.amount")),n.zb(3),n.Cc(" ",n.hc(15,12,"transfer.description")," "),n.zb(2),n.kc("ngForOf",t.sendTransfers),n.zb(1),n.kc("ngForOf",t.receiveTransfers)}}function L(t,c){1&t&&(n.Rb(0,"h4"),n.Ac(1),n.gc(2,"translate"),n.Qb()),2&t&&(n.zb(1),n.Bc(n.hc(2,1,"transfer.noActivities")))}let j=(()=>{class t{constructor(t,c){this.router=t,this.session=c,c.getToken()?this.getFirst(c.getToken()):this.router.navigateByUrl("/login")}getFirst(t){return Object(s.a)(this,void 0,void 0,(function*(){this.username=this.session.getToken(),yield f(t).then(t=>this.sendTransfers=t),yield g(t).then(t=>this.receiveTransfers=t)}))}ngOnInit(){}}return t.\u0275fac=function(c){return new(c||t)(n.Mb(p.b),n.Mb(A))},t.\u0275cmp=n.Gb({type:t,selectors:[["app-MainPage"]],decls:30,vars:20,consts:[[1,"main"],[1,"container-sm"],[1,"row"],[1,"col-10"],[4,"ngIf","ngIfElse"],["noTransfer",""],[1,"col-2"],[1,"table","table-bordered"],[1,"thead-dark"],[4,"ngFor","ngForOf"]],template:function(t,c){if(1&t&&(n.Rb(0,"div",0),n.Rb(1,"div",1),n.Rb(2,"div",2),n.Rb(3,"div",3),n.Rb(4,"h2"),n.Ac(5),n.gc(6,"translate"),n.Qb(),n.Nb(7,"hr"),n.Nb(8,"app-AccountCard"),n.Nb(9,"hr"),n.Rb(10,"h2"),n.Ac(11),n.gc(12,"translate"),n.Qb(),n.Nb(13,"hr"),n.yc(14,q,18,14,"div",4),n.yc(15,L,3,3,"ng-template",null,5,n.zc),n.Qb(),n.Rb(17,"div",6),n.Rb(18,"h2"),n.Ac(19),n.gc(20,"translate"),n.Qb(),n.Rb(21,"h5"),n.Ac(22),n.gc(23,"translate"),n.Qb(),n.Rb(24,"h5"),n.Ac(25),n.gc(26,"translate"),n.Qb(),n.Rb(27,"h5"),n.Ac(28),n.gc(29,"translate"),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&t){const t=n.rc(16);n.zb(5),n.Bc(n.hc(6,8,"sidebar.accounts")),n.zb(6),n.Bc(n.hc(12,10,"transfer.lastActivities")),n.zb(3),n.kc("ngIf",0!==c.sendTransfers.length||0!==c.receiveTransfers.length)("ngIfElse",t),n.zb(5),n.Bc(n.hc(20,12,"exchangeRate")),n.zb(3),n.Cc("",n.hc(23,14,"account.currency.dolar"),": 6 TL"),n.zb(3),n.Cc("",n.hc(26,16,"account.currency.euro"),": 7 TL"),n.zb(3),n.Cc("",n.hc(29,18,"account.currency.gold"),": 390 TL")}},directives:[T,a.j,a.i],pipes:[k.c,C,F],styles:[""]}),t})();function G(t,c){1&t&&(n.Rb(0,"p"),n.Ac(1),n.gc(2,"translate"),n.Qb()),2&t&&(n.zb(1),n.Cc(" ",n.hc(2,1,"login.errors.usernameRequired")," "))}function D(t,c){if(1&t&&(n.Rb(0,"div",11),n.yc(1,G,3,3,"p",12),n.Qb()),2&t){const t=n.fc();n.zb(1),n.kc("ngIf",t.username.errors.required)}}function E(t,c){1&t&&(n.Rb(0,"p"),n.Ac(1),n.gc(2,"translate"),n.Qb()),2&t&&(n.zb(1),n.Cc(" ",n.hc(2,1,"login.errors.passwordRequired")," "))}function P(t,c){if(1&t&&(n.Rb(0,"div",11),n.yc(1,E,3,3,"p",12),n.Qb()),2&t){const t=n.fc();n.zb(1),n.kc("ngIf",t.password.errors.required)}}let U=(()=>{class t{constructor(t,c,e,n){this.formBuilder=t,this.route=c,this.router=e,this.session=n,this.customer=new l,n.getToken()&&this.router.navigateByUrl("/main")}ngOnInit(){this.loginForm=this.formBuilder.group({username:["",o.p.required],password:["",o.p.required]})}get username(){return this.loginForm.get("username")}get password(){return this.loginForm.get("password")}onSubmit(){this.customer=this.loginForm.value,this.loginForm.invalid?alert("Zorunlu Alanlar\u0131 Doldurun!"):this.session.login(this.customer.username,this.customer.password)}}return t.\u0275fac=function(c){return new(c||t)(n.Mb(o.b),n.Mb(p.a),n.Mb(p.b),n.Mb(A))},t.\u0275cmp=n.Gb({type:t,selectors:[["app-LoginPage"]],decls:24,vars:18,consts:[[1,"container-sm"],[1,"login-container"],[3,"formGroup","ngSubmit"],["for","username"],["type","text","formControlName","username","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],[1,"form-group"],["for","password"],["type","password","formControlName","password","required","",1,"form-control"],[1,"btn","btn-primary","btn-lg","btn-block"],["routerLink","/register",1,"btn","btn-link","btn-lg","btn-block"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(t,c){1&t&&(n.Rb(0,"div",0),n.Rb(1,"div",1),n.Rb(2,"h2"),n.Ac(3),n.gc(4,"translate"),n.Qb(),n.Rb(5,"form",2),n.dc("ngSubmit",(function(){return c.onSubmit()})),n.Rb(6,"label",3),n.Ac(7),n.gc(8,"translate"),n.Qb(),n.Nb(9,"input",4),n.yc(10,D,2,1,"div",5),n.Rb(11,"div",6),n.Rb(12,"label",7),n.Ac(13),n.gc(14,"translate"),n.Qb(),n.Nb(15,"input",8),n.yc(16,P,2,1,"div",5),n.Qb(),n.Rb(17,"div",6),n.Rb(18,"button",9),n.Ac(19),n.gc(20,"translate"),n.Qb(),n.Rb(21,"a",10),n.Ac(22),n.gc(23,"translate"),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.zb(3),n.Bc(n.hc(4,8,"login.login")),n.zb(2),n.kc("formGroup",c.loginForm),n.zb(2),n.Bc(n.hc(8,10,"login.username")),n.zb(3),n.kc("ngIf",c.username.errors&&(c.username.dirty||c.username.touched)),n.zb(3),n.Bc(n.hc(14,12,"login.password")),n.zb(3),n.kc("ngIf",c.password.errors&&(c.password.dirty||c.password.touched)),n.zb(3),n.Cc(" ",n.hc(20,14,"login.login")," "),n.zb(3),n.Cc(" ",n.hc(23,16,"login.register")," "))},directives:[o.r,o.j,o.d,o.a,o.i,o.c,o.n,a.j,p.d],pipes:[k.c],styles:[""]}),t})();var $=e("1kSV");function H(t,c){if(1&t&&(n.Rb(0,"tr"),n.Rb(1,"td"),n.Ac(2),n.Qb(),n.Rb(3,"td"),n.Ac(4),n.Qb(),n.Rb(5,"td"),n.Ac(6),n.Qb(),n.Rb(7,"td"),n.Ac(8),n.Qb(),n.Rb(9,"td"),n.Ac(10),n.gc(11,"myCurrency"),n.Qb(),n.Rb(12,"td"),n.Ac(13),n.Qb(),n.Rb(14,"td"),n.Ac(15),n.Qb(),n.Qb()),2&t){const t=c.$implicit;n.zb(2),n.Bc(t.cSendAccountName),n.zb(2),n.Bc(t.cSendAccountNumber),n.zb(2),n.Bc(t.cReceiveAccountNumber),n.zb(2),n.Bc(t.cSendAccountCurrency),n.zb(2),n.Bc(n.hc(11,7,t.amount)),n.zb(3),n.Bc(t.description),n.zb(2),n.Bc(t.date)}}function x(t,c){if(1&t&&(n.Rb(0,"tr"),n.Rb(1,"td"),n.Ac(2),n.Qb(),n.Rb(3,"td"),n.Ac(4),n.Qb(),n.Rb(5,"td"),n.Ac(6),n.Qb(),n.Rb(7,"td"),n.Ac(8),n.Qb(),n.Rb(9,"td"),n.Ac(10),n.gc(11,"myCurrency"),n.gc(12,"absoluteValue"),n.Qb(),n.Rb(13,"td"),n.Ac(14),n.Qb(),n.Rb(15,"td"),n.Ac(16),n.Qb(),n.Qb()),2&t){const t=c.$implicit;n.zb(2),n.Bc(t.cSendAccountName),n.zb(2),n.Bc(t.cSendAccountNumber),n.zb(2),n.Bc(t.cReceiveAccountNumber),n.zb(2),n.Bc(t.cSendAccountCurrency),n.zb(2),n.Cc(" ",n.hc(11,7,n.hc(12,9,t.amount))," "),n.zb(4),n.Bc(t.description),n.zb(2),n.Bc(t.date)}}function K(t,c){if(1&t&&(n.Rb(0,"div"),n.Rb(1,"table",9),n.Rb(2,"thead",10),n.Rb(3,"tr"),n.Rb(4,"th"),n.Ac(5),n.gc(6,"translate"),n.Qb(),n.Rb(7,"th"),n.Ac(8),n.gc(9,"translate"),n.Qb(),n.Rb(10,"th"),n.Ac(11),n.gc(12,"translate"),n.Qb(),n.Rb(13,"th"),n.Ac(14),n.gc(15,"translate"),n.Qb(),n.Rb(16,"th"),n.Ac(17),n.gc(18,"translate"),n.Qb(),n.Rb(19,"th"),n.Ac(20),n.gc(21,"translate"),n.Qb(),n.Rb(22,"th"),n.Ac(23),n.gc(24,"translate"),n.Qb(),n.Qb(),n.Qb(),n.yc(25,H,16,9,"tr",11),n.yc(26,x,17,11,"tr",11),n.Qb(),n.Qb()),2&t){const t=n.fc();n.zb(5),n.Cc(" ",n.hc(6,9,"transfer.sendAccountName")," "),n.zb(3),n.Cc(" ",n.hc(9,11,"transfer.sendAccountNumber")," "),n.zb(3),n.Cc(" ",n.hc(12,13,"transfer.receiveAccountNumber")," "),n.zb(3),n.Cc(" ",n.hc(15,15,"account.currency.title")," "),n.zb(3),n.Bc(n.hc(18,17,"account.amount")),n.zb(3),n.Cc(" ",n.hc(21,19,"transfer.description")," "),n.zb(3),n.Bc(n.hc(24,21,"account.date")),n.zb(2),n.kc("ngForOf",t.sendTransfers),n.zb(1),n.kc("ngForOf",t.receiveTransfers)}}function V(t,c){1&t&&(n.Rb(0,"h4"),n.Ac(1),n.gc(2,"translate"),n.Qb()),2&t&&(n.zb(1),n.Cc(" ",n.hc(2,1,"transfer.noTransfers")," "))}function Y(t,c){if(1&t&&(n.Rb(0,"option",29),n.Ac(1),n.gc(2,"translate"),n.gc(3,"translate"),n.gc(4,"translate"),n.Qb()),2&t){const t=c.$implicit;n.lc("value",t.accountNumber),n.zb(1),n.Ec(" ",n.hc(2,7,"account.accountNumber")," ",t.accountNumber,", ",n.hc(3,9,"account.accountNumber")," ",t.amount,", ",n.hc(4,11,"account.currency.title")," ",t.currency," ")}}function Z(t,c){1&t&&(n.Rb(0,"p"),n.Ac(1),n.gc(2,"translate"),n.Qb()),2&t&&(n.zb(1),n.Cc(" ",n.hc(2,1,"transfer.modal.errors.sendRequired")," "))}function J(t,c){if(1&t&&(n.Rb(0,"div",30),n.yc(1,Z,3,3,"p",31),n.Qb()),2&t){const t=n.fc(2);n.zb(1),n.kc("ngIf",t.cSendAccountNumber.errors.required)}}function X(t,c){if(1&t&&(n.Rb(0,"option",29),n.Ac(1),n.gc(2,"translate"),n.gc(3,"translate"),n.gc(4,"translate"),n.Qb()),2&t){const t=c.$implicit;n.lc("value",t.accountNumber),n.zb(1),n.Ec(" ",n.hc(2,7,"account.accountNumber")," ",t.accountNumber,", ",n.hc(3,9,"account.accountNumber")," ",t.amount,", ",n.hc(4,11,"account.currency.title")," ",t.currency," ")}}function _(t,c){if(1&t&&(n.Rb(0,"div"),n.Rb(1,"select",32),n.yc(2,X,5,13,"option",18),n.Qb(),n.Qb()),2&t){const t=n.fc(2);n.zb(2),n.kc("ngForOf",t.accounts)}}function W(t,c){1&t&&(n.Rb(0,"p"),n.Ac(1),n.gc(2,"translate"),n.Qb()),2&t&&(n.zb(1),n.Cc(" ",n.hc(2,1,"transfer.modal.errors.receiveRequired")," "))}function tt(t,c){1&t&&(n.Rb(0,"p"),n.Ac(1),n.gc(2,"translate"),n.Qb()),2&t&&(n.zb(1),n.Cc(" ",n.hc(2,1,"transfer.modal.errors.numberMin")," "))}function ct(t,c){if(1&t&&(n.Rb(0,"div",30),n.yc(1,W,3,3,"p",31),n.yc(2,tt,3,3,"p",31),n.Qb()),2&t){const t=n.fc(3);n.zb(1),n.kc("ngIf",t.cReceiveAccountNumber.errors.required),n.zb(1),n.kc("ngIf",t.cReceiveAccountNumber.errors.min)}}function et(t,c){if(1&t&&(n.Nb(0,"input",33),n.yc(1,ct,3,2,"div",19)),2&t){const t=n.fc(2);n.zb(1),n.kc("ngIf",t.cReceiveAccountNumber.errors&&(t.cReceiveAccountNumber.dirty||t.cReceiveAccountNumber.touched))}}function nt(t,c){1&t&&(n.Rb(0,"p"),n.Ac(1),n.gc(2,"translate"),n.Qb()),2&t&&(n.zb(1),n.Cc(" ",n.hc(2,1,"account.modal.errors.amountRequired")," "))}function rt(t,c){1&t&&(n.Rb(0,"p"),n.Ac(1),n.gc(2,"translate"),n.Qb()),2&t&&(n.zb(1),n.Cc(" ",n.hc(2,1,"account.modal.errors.amountMin")," "))}function ot(t,c){if(1&t&&(n.Rb(0,"div",30),n.yc(1,nt,3,3,"p",31),n.yc(2,rt,3,3,"p",31),n.Qb()),2&t){const t=n.fc(2);n.zb(1),n.kc("ngIf",t.amount.errors.required),n.zb(1),n.kc("ngIf",t.amount.errors.min)}}function at(t,c){1&t&&(n.Rb(0,"p"),n.Ac(1),n.gc(2,"translate"),n.Qb()),2&t&&(n.zb(1),n.Cc(" ",n.hc(2,1,"transfer.modal.errors.descriptionRequired")," "))}function it(t,c){if(1&t&&(n.Rb(0,"div",30),n.yc(1,at,3,3,"p",31),n.Qb()),2&t){const t=n.fc(2);n.zb(1),n.kc("ngIf",t.description.errors.required)}}function st(t,c){if(1&t){const t=n.Sb();n.Rb(0,"div",12),n.Rb(1,"h4",13),n.Ac(2),n.gc(3,"translate"),n.Qb(),n.Qb(),n.Rb(4,"div",14),n.Rb(5,"form",15),n.dc("ngSubmit",(function(){return n.sc(t),n.fc().onSubmit()})),n.Rb(6,"label",16),n.Ac(7),n.gc(8,"translate"),n.Qb(),n.Rb(9,"select",17),n.yc(10,Y,5,13,"option",18),n.Qb(),n.yc(11,J,2,1,"div",19),n.Rb(12,"div",20),n.Ac(13),n.gc(14,"translate"),n.Qb(),n.Rb(15,"label",21),n.Ac(16),n.gc(17,"translate"),n.Qb(),n.yc(18,_,3,1,"div",4),n.yc(19,et,2,1,"ng-template",null,22,n.zc),n.Rb(21,"label",23),n.Ac(22),n.gc(23,"translate"),n.Qb(),n.Nb(24,"input",24),n.yc(25,ot,3,2,"div",19),n.Rb(26,"label",25),n.Ac(27),n.gc(28,"translate"),n.Qb(),n.Nb(29,"input",26),n.yc(30,it,2,1,"div",19),n.Rb(31,"div",27),n.Rb(32,"button",28),n.Ac(33),n.gc(34,"translate"),n.Qb(),n.Qb(),n.Qb(),n.Qb()}if(2&t){const t=n.rc(20),c=n.fc();n.zb(2),n.Cc(" ",n.hc(3,14,c.getParamFromURL())," "),n.zb(3),n.kc("formGroup",c.transferForm),n.zb(2),n.Cc(" ",n.hc(8,16,"transfer.sendAccountNumber")," * "),n.zb(3),n.kc("ngForOf",c.accounts),n.zb(1),n.kc("ngIf",c.cSendAccountNumber.errors&&(c.cSendAccountNumber.dirty||c.cSendAccountNumber.touched)),n.zb(2),n.Cc(" ",n.hc(14,18,"account.modal.errors.currencyConvertion")," "),n.zb(3),n.Cc(" ",n.hc(17,20,"transfer.receiveAccountNumber")," * "),n.zb(2),n.kc("ngIf","Virman"===c.getParamFromURL())("ngIfElse",t),n.zb(4),n.Cc("",n.hc(23,22,"account.amount")," *"),n.zb(3),n.kc("ngIf",c.amount.errors&&(c.amount.dirty||c.amount.touched)),n.zb(2),n.Cc(" ",n.hc(28,24,"transfer.description")," * "),n.zb(3),n.kc("ngIf",c.description.errors&&(c.description.dirty||c.description.touched)),n.zb(3),n.Cc(" ",n.hc(34,26,"transfer.modal.add")," ")}}let ut=(()=>{class t{constructor(t,c,e,n,r,o,i,s){this.formBuilder=t,this.route=c,this.router=e,this.session=n,this.transferSErvice=r,this.accountService=o,this.currencyService=i,this.modalService=s,this.newTransfer=new u,this.rate=15,this.now=Object(a.p)(new Date,"dd/MM/yyyy","en"),n.getToken()?this.getFirst(n.getToken()):this.router.navigateByUrl("/login")}getFirst(t){return Object(s.a)(this,void 0,void 0,(function*(){this.username=this.session.getToken(),yield v(t).then(t=>this.accounts=t),yield f(t).then(t=>this.sendTransfers=t),yield g(t).then(t=>this.receiveTransfers=t)}))}ngOnInit(){this.transferForm=this.formBuilder.group({cSendAccountNumber:["",[o.p.required,o.p.min(1)]],cReceiveAccountNumber:["",[o.p.required,o.p.min(1)]],amount:["",[o.p.required,o.p.min(1)]],description:["",o.p.required]})}get cSendAccountNumber(){return this.transferForm.get("cSendAccountNumber")}get cReceiveAccountNumber(){return this.transferForm.get("cReceiveAccountNumber")}get amount(){return this.transferForm.get("amount")}get description(){return this.transferForm.get("description")}open(t,c){this.addParamToURL(c),this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult="Closed with: "+t})}onSubmit(){return Object(s.a)(this,void 0,void 0,(function*(){if(this.newTransfer=this.transferForm.value,console.log(this.newTransfer),this.transferForm.invalid)return void alert("Zorunlu Alanlar\u0131 Doldurun!");let t,c,e;if(yield z(this.username,this.newTransfer.cSendAccountNumber).then(c=>{console.log(c),t=c[0]}),"Virman"===this.getParamFromURL()?(console.log("virman"),yield z(this.username,this.newTransfer.cReceiveAccountNumber).then(t=>{c=t[0]})):yield function(t,c){return Object(s.a)(this,void 0,void 0,(function*(){return yield m.accounts.where({accountNumber:c}).and(c=>c.customerName!=t).toArray()}))}(this.username,this.newTransfer.cReceiveAccountNumber).then(t=>{0!==t.length?c=t[0]:alert("Alan Kullan\u0131c\u0131 Hesab\u0131 Bulunamad\u0131!")}).catch(t=>console.log(t)),null!==c){if(e=this.currencyService.convertForAddTransfer(t.currency,c.currency,this.newTransfer.amount),this.newTransfer.amount>t.amount)return void alert("Paran\u0131n \xc7ekilece\u011fi Hesab\u0131n\u0131zda Yeterli Bakiye Yok!");{let n,r;yield Q(t.accountNumber).then(t=>{n=t[0]}),yield Q(c.accountNumber).then(t=>{r=t[0]}),this.accountService.updateAccountByTransfer(n,r,t.amount-this.newTransfer.amount,c.amount+e),this.transferSErvice.addTransfer(this.getParamFromURL(),this.username,t.accountName,t.accountNumber,t.amount-this.newTransfer.amount,t.currency,c.customerName,c.accountName,c.accountNumber,c.amount+e,-this.newTransfer.amount,this.newTransfer.description,this.now)}}}))}addParamToURL(t){this.router.navigate([],{queryParams:{transferType:t},queryParamsHandling:"merge"})}getParamFromURL(){let t;return this.route.queryParams.subscribe(c=>{t=c.transferType}),t}}return t.\u0275fac=function(c){return new(c||t)(n.Mb(o.b),n.Mb(p.a),n.Mb(p.b),n.Mb(A),n.Mb(h),n.Mb(R),n.Mb(N),n.Mb($.a))},t.\u0275cmp=n.Gb({type:t,selectors:[["app-TransfersPage"]],decls:20,vars:11,consts:[[1,"main"],[1,"container-sm"],[1,"row"],[1,"col-10"],[4,"ngIf","ngIfElse"],["noTransfer",""],[1,"col-2"],[1,"btn","btn-lg","btn-primary",3,"click"],["addTransfer",""],[1,"table","table-bordered"],[1,"thead-dark"],[4,"ngFor","ngForOf"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body"],[3,"formGroup","ngSubmit"],["for","cSendAccountNumber"],["formControlName","cSendAccountNumber",1,"custom-select","custom-select-lg","mb-3"],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-info"],["for","cReceiveAccountNumber"],["havaleBlock",""],["for","amount"],["type","number","formControlName","amount","min","1",1,"form-control"],["for","description"],["type","text","formControlName","description",1,"form-control"],[1,"form-group"],[1,"btn","btn-primary","btn-lg","btn-block"],[3,"value"],[1,"alert","alert-danger"],[4,"ngIf"],["formControlName","cReceiveAccountNumber",1,"custom-select","custom-select-lg","mb-3"],["type","number","formControlName","cReceiveAccountNumber","required","",1,"form-control"]],template:function(t,c){if(1&t){const t=n.Sb();n.Rb(0,"div",0),n.Rb(1,"div",1),n.Rb(2,"div",2),n.Rb(3,"div",3),n.Rb(4,"h2"),n.Ac(5),n.gc(6,"translate"),n.Qb(),n.yc(7,K,27,23,"div",4),n.yc(8,V,3,3,"ng-template",null,5,n.zc),n.Qb(),n.Rb(10,"div",6),n.Rb(11,"button",7),n.dc("click",(function(){n.sc(t);const e=n.rc(19);return c.open(e,"Virman")})),n.Ac(12),n.gc(13,"translate"),n.Qb(),n.Nb(14,"hr"),n.Rb(15,"button",7),n.dc("click",(function(){n.sc(t);const e=n.rc(19);return c.open(e,"Havale")})),n.Ac(16),n.gc(17,"translate"),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.yc(18,st,35,28,"ng-template",null,8,n.zc),n.Qb()}if(2&t){const t=n.rc(9);n.zb(5),n.Bc(n.hc(6,5,"sidebar.transfers")),n.zb(2),n.kc("ngIf",0!==c.sendTransfers.length||0!==c.receiveTransfers.length)("ngIfElse",t),n.zb(5),n.Cc(" ",n.hc(13,7,"transfer.modal.virman")," "),n.zb(4),n.Cc(" ",n.hc(17,9,"transfer.modal.havale")," ")}},directives:[a.j,a.i,o.r,o.j,o.d,o.o,o.i,o.c,o.l,o.a,o.k,o.q,o.n],pipes:[k.c,C,F],styles:[""]}),t})();function bt(t,c){1&t&&(n.Rb(0,"p"),n.Ac(1),n.gc(2,"translate"),n.Qb()),2&t&&(n.zb(1),n.Cc(" ",n.hc(2,1,"login.errors.usernameRequired")," "))}function lt(t,c){if(1&t&&(n.Rb(0,"div",11),n.yc(1,bt,3,3,"p",12),n.Qb()),2&t){const t=n.fc();n.zb(1),n.kc("ngIf",t.username.errors.required)}}function dt(t,c){1&t&&(n.Rb(0,"p"),n.Ac(1),n.gc(2,"translate"),n.Qb()),2&t&&(n.zb(1),n.Cc(" ",n.hc(2,1,"login.errors.passwordRequired")," "))}function mt(t,c){1&t&&(n.Rb(0,"p"),n.Ac(1),n.gc(2,"translate"),n.Qb()),2&t&&(n.zb(1),n.Cc(" ",n.hc(2,1,"login.errors.passwordMin")," "))}function ht(t,c){if(1&t&&(n.Rb(0,"div",11),n.yc(1,dt,3,3,"p",12),n.yc(2,mt,3,3,"p",12),n.Qb()),2&t){const t=n.fc();n.zb(1),n.kc("ngIf",t.password.errors.required),n.zb(1),n.kc("ngIf",t.password.errors.minlength)}}let ft=(()=>{class t{constructor(t,c,e,n){this.formBuilder=t,this.route=c,this.router=e,this.session=n,this.customer=new l,n.getToken()&&this.router.navigateByUrl("/main")}ngOnInit(){this.registerForm=this.formBuilder.group({username:["",o.p.required],password:["",[o.p.required,o.p.minLength(6)]]})}get username(){return this.registerForm.get("username")}get password(){return this.registerForm.get("password")}onSubmit(){this.customer=this.registerForm.value,this.registerForm.invalid?alert("Zorunlu Alanlar\u0131 Doldurun!"):this.session.register(this.customer.username,this.customer.password)}}return t.\u0275fac=function(c){return new(c||t)(n.Mb(o.b),n.Mb(p.a),n.Mb(p.b),n.Mb(A))},t.\u0275cmp=n.Gb({type:t,selectors:[["app-RegisterPage"]],decls:24,vars:18,consts:[[1,"container-sm"],[1,"login-container"],[3,"formGroup","ngSubmit"],["for","username"],["type","text","formControlName","username","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],[1,"form-group"],["for","password"],["type","password","formControlName","password","required","","minlength","6",1,"form-control"],[1,"btn","btn-primary","btn-lg","btn-block"],["routerLink","/login",1,"btn","btn-link","btn-lg","btn-block"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(t,c){1&t&&(n.Rb(0,"div",0),n.Rb(1,"div",1),n.Rb(2,"h2"),n.Ac(3),n.gc(4,"translate"),n.Qb(),n.Rb(5,"form",2),n.dc("ngSubmit",(function(){return c.onSubmit()})),n.Rb(6,"label",3),n.Ac(7),n.gc(8,"translate"),n.Qb(),n.Nb(9,"input",4),n.yc(10,lt,2,1,"div",5),n.Rb(11,"div",6),n.Rb(12,"label",7),n.Ac(13),n.gc(14,"translate"),n.Qb(),n.Nb(15,"input",8),n.yc(16,ht,3,2,"div",5),n.Qb(),n.Rb(17,"div",6),n.Rb(18,"button",9),n.Ac(19),n.gc(20,"translate"),n.Qb(),n.Rb(21,"a",10),n.Ac(22),n.gc(23,"translate"),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.zb(3),n.Bc(n.hc(4,8,"login.register")),n.zb(2),n.kc("formGroup",c.registerForm),n.zb(2),n.Bc(n.hc(8,10,"login.username")),n.zb(3),n.kc("ngIf",c.username.errors&&(c.username.dirty||c.username.touched)),n.zb(3),n.Bc(n.hc(14,12,"login.password")),n.zb(3),n.kc("ngIf",c.password.errors&&(c.password.dirty||c.password.touched)),n.zb(3),n.Cc(" ",n.hc(20,14,"login.register")," "),n.zb(3),n.Cc(" ",n.hc(23,16,"login.login")," "))},directives:[o.r,o.j,o.d,o.a,o.i,o.c,o.n,a.j,o.f,p.d],pipes:[k.c],styles:[""]}),t})();function gt(t,c){if(1&t){const t=n.Sb();n.Rb(0,"tr"),n.Rb(1,"td"),n.Ac(2),n.Qb(),n.Rb(3,"td"),n.Ac(4),n.Qb(),n.Rb(5,"td"),n.Ac(6),n.Qb(),n.Rb(7,"td"),n.Ac(8),n.gc(9,"myCurrency"),n.Qb(),n.Rb(10,"td"),n.Ac(11),n.Qb(),n.Rb(12,"td"),n.Rb(13,"button",13),n.dc("click",(function(){n.sc(t);const e=c.$implicit;return n.fc(2).gotoDetails(e.accountNumber)})),n.Ac(14),n.gc(15,"translate"),n.Qb(),n.Qb(),n.Qb()}if(2&t){const t=c.$implicit;n.zb(2),n.Bc(t.accountName),n.zb(2),n.Bc(t.accountNumber),n.zb(2),n.Bc(t.currency),n.zb(2),n.Bc(n.hc(9,6,t.amount)),n.zb(3),n.Bc(t.date),n.zb(3),n.Cc(" ",n.hc(15,8,"account.details")," ")}}function pt(t,c){if(1&t&&(n.Rb(0,"div",9),n.Rb(1,"table",10),n.Rb(2,"thead",11),n.Rb(3,"tr"),n.Rb(4,"th"),n.Ac(5),n.gc(6,"translate"),n.Qb(),n.Rb(7,"th"),n.Ac(8),n.gc(9,"translate"),n.Qb(),n.Rb(10,"th"),n.Ac(11),n.gc(12,"translate"),n.Qb(),n.Rb(13,"th"),n.Ac(14),n.gc(15,"translate"),n.Qb(),n.Rb(16,"th"),n.Ac(17),n.gc(18,"translate"),n.Qb(),n.Rb(19,"th"),n.Ac(20),n.gc(21,"translate"),n.Qb(),n.Qb(),n.Qb(),n.yc(22,gt,16,10,"tr",12),n.Qb(),n.Qb()),2&t){const t=n.fc();n.zb(5),n.Bc(n.hc(6,7,"account.accountName")),n.zb(3),n.Cc(" ",n.hc(9,9,"account.accountNumber")," "),n.zb(3),n.Cc(" ",n.hc(12,11,"account.currency.title")," "),n.zb(3),n.Bc(n.hc(15,13,"account.amount")),n.zb(3),n.Bc(n.hc(18,15,"account.date")),n.zb(3),n.Bc(n.hc(21,17,"account.action")),n.zb(2),n.kc("ngForOf",t.accounts)}}function At(t,c){1&t&&(n.Rb(0,"h4"),n.Ac(1),n.gc(2,"translate"),n.Qb()),2&t&&(n.zb(1),n.Cc(" ",n.hc(2,1,"account.noAccounts")," "))}function Rt(t,c){1&t&&(n.Rb(0,"p"),n.Ac(1),n.gc(2,"translate"),n.Qb()),2&t&&(n.zb(1),n.Cc(" ",n.hc(2,1,"account.modal.errors.accountNameRequired")," "))}function vt(t,c){if(1&t&&(n.Rb(0,"div",25),n.yc(1,Rt,3,3,"p",26),n.Qb()),2&t){const t=n.fc(2);n.zb(1),n.kc("ngIf",t.accountName.errors.required)}}function yt(t,c){1&t&&(n.Rb(0,"p"),n.Ac(1),n.gc(2,"translate"),n.Qb()),2&t&&(n.zb(1),n.Cc(" ",n.hc(2,1,"account.modal.errors.amountRequired")," "))}function Qt(t,c){1&t&&(n.Rb(0,"p"),n.Ac(1),n.gc(2,"translate"),n.Qb()),2&t&&(n.zb(1),n.Cc(" ",n.hc(2,1,"account.modal.errors.amountMin")," "))}function zt(t,c){if(1&t&&(n.Rb(0,"div",25),n.yc(1,yt,3,3,"p",26),n.yc(2,Qt,3,3,"p",26),n.Qb()),2&t){const t=n.fc(3);n.zb(1),n.kc("ngIf",t.amount.errors.required),n.zb(1),n.kc("ngIf",t.amount.errors.min)}}function Nt(t,c){if(1&t&&(n.Rb(0,"option",39),n.Ac(1),n.gc(2,"translate"),n.gc(3,"translate"),n.gc(4,"translate"),n.Qb()),2&t){const t=c.$implicit;n.lc("value",t.accountNumber),n.zb(1),n.Ec(" ",n.hc(2,7,"account.accountNumber")," ",t.accountNumber,", ",n.hc(3,9,"account.accountNumber")," ",t.amount,", ",n.hc(4,11,"account.currency.title")," ",t.currency," ")}}function kt(t,c){1&t&&(n.Rb(0,"p"),n.Ac(1),n.gc(2,"translate"),n.Qb()),2&t&&(n.zb(1),n.Cc(" ",n.hc(2,1,"account.modal.errors.withdrawAccountRequired")," "))}function Ct(t,c){if(1&t&&(n.Rb(0,"div",25),n.yc(1,kt,3,3,"p",26),n.Qb()),2&t){const t=n.fc(3);n.zb(1),n.kc("ngIf",t.otherAmount.errors.required)}}function wt(t,c){1&t&&(n.Rb(0,"p"),n.Ac(1),n.gc(2,"translate"),n.Qb()),2&t&&(n.zb(1),n.Cc(" ",n.hc(2,1,"account.modal.errors.currencyRequired")," "))}function Bt(t,c){if(1&t&&(n.Rb(0,"div",25),n.yc(1,wt,3,3,"p",26),n.Qb()),2&t){const t=n.fc(3);n.zb(1),n.kc("ngIf",t.currency.errors.required)}}function St(t,c){if(1&t&&(n.Rb(0,"div",23),n.Rb(1,"label",27),n.Ac(2),n.gc(3,"translate"),n.Qb(),n.Nb(4,"input",28),n.yc(5,zt,3,2,"div",20),n.Nb(6,"br"),n.Rb(7,"label",29),n.Ac(8),n.gc(9,"translate"),n.Qb(),n.Rb(10,"select",30),n.yc(11,Nt,5,13,"option",31),n.Qb(),n.yc(12,Ct,2,1,"div",20),n.Rb(13,"div",32),n.Ac(14),n.gc(15,"translate"),n.Qb(),n.Rb(16,"label",33),n.Ac(17),n.gc(18,"translate"),n.Qb(),n.Rb(19,"select",34),n.Rb(20,"option",35),n.Ac(21),n.gc(22,"translate"),n.Qb(),n.Rb(23,"option",36),n.Ac(24),n.gc(25,"translate"),n.Qb(),n.Rb(26,"option",37),n.Ac(27),n.gc(28,"translate"),n.Qb(),n.Rb(29,"option",38),n.Ac(30),n.gc(31,"translate"),n.Qb(),n.Qb(),n.yc(32,Bt,2,1,"div",20),n.Qb()),2&t){const t=n.fc(2);n.zb(2),n.Cc(" ",n.hc(3,12,"account.amount")," * "),n.zb(3),n.kc("ngIf",t.amount.errors&&(t.amount.dirty||t.amount.touched)),n.zb(3),n.Cc("",n.hc(9,14,"account.withdrawAccount")," * "),n.zb(3),n.kc("ngForOf",t.accounts),n.zb(1),n.kc("ngIf",t.otherAmount.errors&&(t.otherAmount.dirty||t.otherAmount.touched)),n.zb(2),n.Cc(" ",n.hc(15,16,"account.modal.errors.currencyConvertion")," "),n.zb(3),n.Cc(" ",n.hc(18,18,"account.currency.title")," * "),n.zb(4),n.Bc(n.hc(22,20,"account.currency.turkishLira")),n.zb(3),n.Bc(n.hc(25,22,"account.currency.dolar")),n.zb(3),n.Bc(n.hc(28,24,"account.currency.euro")),n.zb(3),n.Bc(n.hc(31,26,"account.currency.gold")),n.zb(2),n.kc("ngIf",t.currency.errors&&(t.currency.dirty||t.currency.touched))}}function It(t,c){1&t&&(n.Rb(0,"label",27),n.Ac(1),n.gc(2,"translate"),n.Qb(),n.Rb(3,"div",40),n.Ac(4),n.gc(5,"translate"),n.Qb(),n.Rb(6,"label",27),n.Ac(7),n.gc(8,"translate"),n.Qb(),n.Rb(9,"div",40),n.Ac(10," TL "),n.Qb()),2&t&&(n.zb(1),n.Cc(" ",n.hc(2,3,"account.amount")," "),n.zb(3),n.Cc(" ",n.hc(5,5,"account.modal.errors.firstAccount")," "),n.zb(3),n.Cc(" ",n.hc(8,7,"account.currency.title")," "))}function Tt(t,c){if(1&t){const t=n.Sb();n.Rb(0,"div",14),n.Rb(1,"h4",15),n.Ac(2),n.gc(3,"translate"),n.Qb(),n.Qb(),n.Rb(4,"div",16),n.Rb(5,"form",17),n.dc("ngSubmit",(function(){return n.sc(t),n.fc().onSubmit()})),n.Rb(6,"label",18),n.Ac(7),n.gc(8,"translate"),n.Qb(),n.Nb(9,"input",19),n.yc(10,vt,2,1,"div",20),n.yc(11,St,33,28,"div",21),n.yc(12,It,11,9,"ng-template",null,22,n.zc),n.Rb(14,"div",23),n.Rb(15,"button",24),n.Ac(16),n.gc(17,"translate"),n.Qb(),n.Qb(),n.Qb(),n.Qb()}if(2&t){const t=n.rc(13),c=n.fc();n.zb(2),n.Cc(" ",n.hc(3,7,"account.modal.addAccount")," "),n.zb(3),n.kc("formGroup",c.accountForm),n.zb(2),n.Cc("",n.hc(8,9,"account.accountName")," *"),n.zb(3),n.kc("ngIf",c.accountName.errors&&(c.accountName.dirty||c.accountName.touched)),n.zb(1),n.kc("ngIf",0!=c.numberOfAccounts)("ngIfElse",t),n.zb(5),n.Cc(" ",n.hc(17,11,"account.modal.addAccount")," ")}}let Ft=(()=>{class t{constructor(t,c,e,n,r,o,i){this.formBuilder=t,this.route=c,this.router=e,this.session=n,this.accountService=r,this.currencyService=o,this.modalService=i,this.newAccount=new b,this.firstAccount=!1,this.rate=15,this.now=Object(a.p)(new Date,"dd/MM/yyyy","en"),n.getToken()?this.getFirst(n.getToken()):this.router.navigateByUrl("/login")}getFirst(t){return Object(s.a)(this,void 0,void 0,(function*(){this.username=this.session.getToken(),yield v(t).then(t=>this.accounts=t),yield y(t).then(t=>this.numberOfAccounts=t)}))}ngOnInit(){this.accountForm=this.formBuilder.group({accountName:["",o.p.required],amount:["10000",[o.p.required,o.p.min(1)]],currency:["TL",o.p.required],otherAmount:[[]]})}get accountName(){return this.accountForm.get("accountName")}get amount(){return this.accountForm.get("amount")}get currency(){return this.accountForm.get("currency")}get otherAmount(){return this.accountForm.get("otherAmount")}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult="Closed with: "+t})}onSubmit(){return Object(s.a)(this,void 0,void 0,(function*(){if(this.newAccount=this.accountForm.value,this.accountForm.invalid)return void alert("Zorunlu Alanlar\u0131 Doldurun!");if(0!==this.numberOfAccounts){yield z(this.username,this.otherAmount.value).then(t=>{this.otherAccount=t[0]});let t=this.currencyService.convertForAddAccount(this.otherAccount.currency,this.newAccount.currency,this.newAccount.amount);if(t>this.otherAccount.amount)return void alert("Paran\u0131n \xc7ekilece\u011fi Hesab\u0131n\u0131zda Yeterli Bakiye Yok!");{let c;yield Q(this.otherAccount.accountNumber).then(t=>{c=t[0]}),this.accountService.updateAccount(c,this.otherAccount.amount-t)}}let t=Math.floor(9e5*Math.random()+1e5);this.accountService.addAccount(this.username,this.newAccount.accountName,t,this.newAccount.amount,this.newAccount.currency,this.rate,this.now)}))}gotoDetails(t){this.router.navigate(["/account/",t])}}return t.\u0275fac=function(c){return new(c||t)(n.Mb(o.b),n.Mb(p.a),n.Mb(p.b),n.Mb(A),n.Mb(R),n.Mb(N),n.Mb($.a))},t.\u0275cmp=n.Gb({type:t,selectors:[["app-AccountsPage"]],decls:16,vars:8,consts:[[1,"main"],[1,"container-sm"],[1,"row"],[1,"col-10"],["class","row card-group",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"col-2"],[1,"btn","btn-lg","btn-primary",3,"click"],["addAccount",""],[1,"row","card-group"],[1,"table","table-bordered"],[1,"thead-dark"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body"],[3,"formGroup","ngSubmit"],["for","accountName"],["type","text","formControlName","accountName","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf","ngIfElse"],["elseblock",""],[1,"form-group"],[1,"btn","btn-primary","btn-lg","btn-block"],[1,"alert","alert-danger"],[4,"ngIf"],["for","amount"],["type","number","formControlName","amount","min","1",1,"form-control"],["for","otherAmount"],["formControlName","otherAmount",1,"custom-select","custom-select-lg","mb-3"],[3,"value",4,"ngFor","ngForOf"],[1,"alert","alert-info"],["for","currency"],["formControlName","currency",1,"custom-select","custom-select-lg","mb-3"],["value","TL"],["value","$"],["value","\u20ac"],["value","Alt\u0131n"],[3,"value"],["role","alert",1,"alert","alert-info"]],template:function(t,c){if(1&t){const t=n.Sb();n.Rb(0,"div",0),n.Rb(1,"div",1),n.Rb(2,"div",2),n.Rb(3,"div",3),n.Rb(4,"h2"),n.Ac(5),n.gc(6,"translate"),n.Qb(),n.yc(7,pt,23,19,"div",4),n.yc(8,At,3,3,"ng-template",null,5,n.zc),n.Qb(),n.Rb(10,"div",6),n.Rb(11,"button",7),n.dc("click",(function(){n.sc(t);const e=n.rc(15);return c.open(e)})),n.Ac(12),n.gc(13,"translate"),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.yc(14,Tt,18,13,"ng-template",null,8,n.zc),n.Qb()}if(2&t){const t=n.rc(9);n.zb(5),n.Cc(" ",n.hc(6,4,"sidebar.accounts")," "),n.zb(2),n.kc("ngIf",c.numberOfAccounts)("ngIfElse",t),n.zb(5),n.Cc(" ",n.hc(13,6,"account.modal.addAccount")," ")}},directives:[a.j,a.i,o.r,o.j,o.d,o.a,o.i,o.c,o.n,o.l,o.o,o.k,o.q],pipes:[k.c,C],styles:[""]}),t})();function Ot(t,c){if(1&t){const t=n.Sb();n.Rb(0,"div",8),n.Rb(1,"h4",9),n.Ac(2),n.gc(3,"translate"),n.Qb(),n.Qb(),n.Rb(4,"div",10),n.Rb(5,"button",11),n.dc("click",(function(){return n.sc(t),n.fc().logOut()})),n.Ac(6),n.gc(7,"translate"),n.Qb(),n.Rb(8,"button",5),n.dc("click",(function(){return c.$implicit.close()})),n.Ac(9),n.gc(10,"translate"),n.Qb(),n.Qb()}2&t&&(n.zb(2),n.Cc(" ",n.hc(3,3,"sidebar.modal.title")," "),n.zb(4),n.Cc(" ",n.hc(7,5,"sidebar.modal.yes")," "),n.zb(3),n.Cc(" ",n.hc(10,7,"sidebar.modal.no")," "))}let Mt=(()=>{class t{constructor(t,c,e,n,r,o){this.route=t,this.router=c,this.session=e,this.accountService=n,this.modalService=r,this.translate=o,e.getToken()?this.getFirst(e.getToken()):this.router.navigateByUrl("/login")}getFirst(t){return Object(s.a)(this,void 0,void 0,(function*(){this.username=this.session.getToken(),yield y(t).then(t=>this.numberOfAccounts=t)}))}ngOnInit(){}openModal(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",centered:!0}).result.then(t=>{this.closeResult="Closed with: "+t})}changeLanguage(t){this.translate.use(t)}logOut(){this.session.logOut()}}return t.\u0275fac=function(c){return new(c||t)(n.Mb(p.a),n.Mb(p.b),n.Mb(A),n.Mb(R),n.Mb($.a),n.Mb(k.d))},t.\u0275cmp=n.Gb({type:t,selectors:[["app-Sidebar"]],decls:29,vars:14,consts:[[1,"sidebar"],["routerLink","/main","routerLinkActive","selected"],["routerLink","/accounts","routerLinkActive","selected"],["routerLink","/transfers","routerLinkActive","selected"],["role","group",1,"btn-group"],[1,"btn","btn-danger","btn-lg",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],["logOutModal",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-footer"],[1,"btn","btn-success","btn-lg",3,"click"]],template:function(t,c){if(1&t){const t=n.Sb();n.Rb(0,"div",0),n.Rb(1,"h3"),n.Ac(2),n.Qb(),n.Nb(3,"hr"),n.Rb(4,"a",1),n.Ac(5),n.gc(6,"translate"),n.Qb(),n.Nb(7,"hr"),n.Rb(8,"a",2),n.Ac(9),n.gc(10,"translate"),n.Qb(),n.Nb(11,"hr"),n.Rb(12,"a",3),n.Ac(13),n.gc(14,"translate"),n.Qb(),n.Nb(15,"hr"),n.Rb(16,"div",4),n.Rb(17,"button",5),n.dc("click",(function(){n.sc(t);const e=n.rc(27);return c.openModal(e)})),n.Ac(18),n.gc(19,"translate"),n.Qb(),n.Qb(),n.Nb(20,"hr"),n.Rb(21,"div",4),n.Rb(22,"button",6),n.dc("click",(function(){return c.changeLanguage("tr")})),n.Ac(23," T\xdcRK\xc7E "),n.Qb(),n.Rb(24,"button",6),n.dc("click",(function(){return c.changeLanguage("en")})),n.Ac(25," ENGLISH "),n.Qb(),n.Qb(),n.Qb(),n.yc(26,Ot,11,9,"ng-template",null,7,n.zc),n.Nb(28,"router-outlet")}2&t&&(n.zb(2),n.Bc(c.username),n.zb(3),n.Cc(" ",n.hc(6,6,"sidebar.main")," "),n.zb(4),n.Dc(" ",n.hc(10,8,"sidebar.accounts")," (",c.numberOfAccounts,") "),n.zb(4),n.Cc(" ",n.hc(14,10,"sidebar.transfers")," "),n.zb(5),n.Cc(" ",n.hc(19,12,"sidebar.logout")," "))},directives:[p.d,p.c,p.f],pipes:[k.c],styles:[""]}),t})();function qt(t,c){if(1&t&&(n.Rb(0,"td"),n.Ac(1),n.Qb()),2&t){const t=n.fc().$implicit;n.zb(1),n.Cc(" ",t.cReceiveAccountName," ")}}function Lt(t,c){if(1&t&&(n.Rb(0,"td"),n.Ac(1),n.Qb()),2&t){const t=n.fc().$implicit;n.zb(1),n.Cc(" ",t.cReceiveAccountNumber," ")}}function jt(t,c){if(1&t&&(n.Rb(0,"tr"),n.yc(1,qt,2,1,"td",10),n.yc(2,Lt,2,1,"td",10),n.Rb(3,"td"),n.Ac(4),n.gc(5,"myCurrency"),n.Qb(),n.Rb(6,"td"),n.Ac(7),n.Qb(),n.Rb(8,"td"),n.Ac(9),n.gc(10,"myCurrency"),n.Qb(),n.Rb(11,"td"),n.Ac(12),n.Qb(),n.Qb()),2&t){const t=c.$implicit;n.zb(1),n.kc("ngIf","Havale"===t.transferType),n.zb(1),n.kc("ngIf","Virman"===t.transferType),n.zb(2),n.Dc(" ",n.hc(5,7,t.amount)," ",t.cSendAccountCurrency," "),n.zb(3),n.Bc(t.description),n.zb(2),n.Bc(n.hc(10,9,t.cSendAccountAmount)),n.zb(3),n.Bc(t.date)}}function Gt(t,c){if(1&t&&(n.Rb(0,"td"),n.Ac(1),n.Qb()),2&t){const t=n.fc().$implicit;n.zb(1),n.Cc(" ",t.cReceiveAccountName," ")}}function Dt(t,c){if(1&t&&(n.Rb(0,"td"),n.Ac(1),n.Qb()),2&t){const t=n.fc().$implicit;n.zb(1),n.Cc(" ",t.cReceiveAccountNumber," ")}}function Et(t,c){if(1&t&&(n.Rb(0,"tr"),n.yc(1,Gt,2,1,"td",10),n.yc(2,Dt,2,1,"td",10),n.Rb(3,"td"),n.Ac(4),n.gc(5,"myCurrency"),n.gc(6,"absoluteValue"),n.Qb(),n.Rb(7,"td"),n.Ac(8),n.Qb(),n.Rb(9,"td"),n.Ac(10),n.gc(11,"myCurrency"),n.Qb(),n.Rb(12,"td"),n.Ac(13),n.Qb(),n.Qb()),2&t){const t=c.$implicit;n.zb(1),n.kc("ngIf","Havale"===t.transferType),n.zb(1),n.kc("ngIf","Virman"===t.transferType),n.zb(2),n.Dc(" ",n.hc(5,7,n.hc(6,9,t.amount))," ",t.cSendAccountCurrency," "),n.zb(4),n.Bc(t.description),n.zb(2),n.Bc(n.hc(11,11,t.cReceiveAccountAmount)),n.zb(3),n.Bc(t.date)}}const Pt=[{path:"",component:Mt,children:[{path:"",pathMatch:"full",redirectTo:"main"},{path:"main",component:j},{path:"accounts",component:Ft},{path:"transfers",component:ut},{path:"account/:accountNumber",component:(()=>{class t{constructor(t,c,e,n){this.route=t,this.router=c,this.session=e,this.accountService=n,e.getToken()?this.getFirst(e.getToken()):this.router.navigateByUrl("/login")}getFirst(t){return Object(s.a)(this,void 0,void 0,(function*(){this.username=this.session.getToken(),yield z(t,this.route.snapshot.params.accountNumber).then(t=>{this.account=t[0]}),yield function(t,c){return Object(s.a)(this,void 0,void 0,(function*(){return yield m.transfers.where({cSendName:t}).and(t=>t.cSendAccountNumber==c).reverse().toArray()}))}(t,this.route.snapshot.params.accountNumber).then(t=>{this.accountSendTransfers=t}),yield function(t,c){return Object(s.a)(this,void 0,void 0,(function*(){return yield m.transfers.where({cReceiveName:t}).and(t=>t.cReceiveAccountNumber==c).reverse().toArray()}))}(t,this.route.snapshot.params.accountNumber).then(t=>{this.accountReceiveTransfers=t})}))}ngOnInit(){}}return t.\u0275fac=function(c){return new(c||t)(n.Mb(p.a),n.Mb(p.b),n.Mb(A),n.Mb(R))},t.\u0275cmp=n.Gb({type:t,selectors:[["app-AccountDetailPage"]],decls:63,vars:46,consts:[[1,"main"],[1,"container-sm"],[1,"row"],[1,"col-3"],[1,"col-2"],[2,"color","tomato"],[2,"color","darkgrey"],[1,"table","table-bordered"],[1,"thead-dark"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(t,c){1&t&&(n.Nb(0,"app-Sidebar"),n.Rb(1,"div",0),n.Rb(2,"div",1),n.Rb(3,"h2"),n.Ac(4),n.gc(5,"translate"),n.Qb(),n.Nb(6,"hr"),n.Rb(7,"div",2),n.Rb(8,"div",3),n.Rb(9,"h5"),n.Ac(10),n.gc(11,"translate"),n.Rb(12,"span"),n.Ac(13),n.Qb(),n.Qb(),n.Qb(),n.Rb(14,"div",3),n.Rb(15,"h5"),n.Ac(16),n.gc(17,"translate"),n.Rb(18,"span"),n.Ac(19),n.Qb(),n.Qb(),n.Qb(),n.Rb(20,"div",4),n.Rb(21,"h5"),n.Ac(22),n.gc(23,"translate"),n.Rb(24,"span"),n.Ac(25),n.gc(26,"myCurrency"),n.Qb(),n.Qb(),n.Qb(),n.Rb(27,"div",4),n.Rb(28,"h5"),n.Ac(29),n.gc(30,"translate"),n.Rb(31,"span"),n.Ac(32),n.Qb(),n.Qb(),n.Qb(),n.Rb(33,"div",4),n.Rb(34,"h5",5),n.Rb(35,"span",6),n.Ac(36),n.gc(37,"translate"),n.Qb(),n.Ac(38),n.Qb(),n.Qb(),n.Qb(),n.Nb(39,"br"),n.Rb(40,"h3"),n.Ac(41),n.gc(42,"translate"),n.Qb(),n.Rb(43,"table",7),n.Rb(44,"thead",8),n.Rb(45,"tr"),n.Rb(46,"th"),n.Ac(47),n.gc(48,"translate"),n.Qb(),n.Rb(49,"th"),n.Ac(50),n.gc(51,"translate"),n.Qb(),n.Rb(52,"th"),n.Ac(53),n.gc(54,"translate"),n.Qb(),n.Rb(55,"th"),n.Ac(56),n.gc(57,"translate"),n.Qb(),n.Rb(58,"th"),n.Ac(59),n.gc(60,"translate"),n.Qb(),n.Qb(),n.Qb(),n.yc(61,jt,13,11,"tr",9),n.yc(62,Et,14,13,"tr",9),n.Qb(),n.Qb(),n.Qb()),2&t&&(n.zb(4),n.Bc(n.hc(5,20,"account.accountDetail")),n.zb(6),n.Cc(" ",n.hc(11,22,"account.accountName"),": "),n.zb(3),n.Dc(" ",c.account.accountName," (",c.account.currency,") "),n.zb(3),n.Cc(" ",n.hc(17,24,"account.accountNumber"),": "),n.zb(3),n.Bc(c.account.accountNumber),n.zb(3),n.Cc(" ",n.hc(23,26,"account.balance"),": "),n.zb(3),n.Bc(n.hc(26,28,c.account.amount)),n.zb(4),n.Cc(" ",n.hc(30,30,"account.rate"),": "),n.zb(3),n.Cc("%",c.account.rate,""),n.zb(4),n.Cc(" ",n.hc(37,32,"account.date"),": "),n.zb(2),n.Cc(" ",c.account.date," "),n.zb(3),n.Bc(n.hc(42,34,"account.accountActions")),n.zb(6),n.Bc(n.hc(48,36,"transfer.receiveAccountName")),n.zb(3),n.Bc(n.hc(51,38,"account.amount")),n.zb(3),n.Bc(n.hc(54,40,"transfer.description")),n.zb(3),n.Bc(n.hc(57,42,"account.balance")),n.zb(3),n.Bc(n.hc(60,44,"account.date")),n.zb(2),n.kc("ngForOf",c.accountSendTransfers),n.zb(1),n.kc("ngForOf",c.accountReceiveTransfers))},directives:[Mt,a.i,a.j],pipes:[k.c,C,F],styles:[""]}),t})()},{path:"error",component:i}]},{path:"login",component:U},{path:"register",component:ft}];let Ut=(()=>{class t{}return t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({factory:function(c){return new(c||t)},imports:[[p.e.forRoot(Pt),k.b],p.e]}),t})(),$t=(()=>{class t{constructor(t,c,e){this.router=t,this.session=c,this.translate=e,this.title="bank-application",e.addLangs(["tr","en"]),e.setDefaultLang("tr"),e.use("tr"),c.getToken()||this.router.navigateByUrl("/login")}changeLanguage(t){this.translate.use(t)}}return t.\u0275fac=function(c){return new(c||t)(n.Mb(p.b),n.Mb(A),n.Mb(k.d))},t.\u0275cmp=n.Gb({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,c){1&t&&(n.Nb(0,"router-outlet"),n.Nb(1,"app-Sidebar"))},directives:[p.f,Mt],styles:[""]}),t})();var Ht=e("tk/3"),xt=e("mqiu");function Kt(t){return new xt.a(t,"./assets/i18n/",".json")}let Vt=(()=>{class t{}return t.\u0275mod=n.Kb({type:t,bootstrap:[$t]}),t.\u0275inj=n.Jb({factory:function(c){return new(c||t)},providers:[],imports:[[r.a,Ut,o.e,o.m,a.b,$.b,Ht.b,k.b.forRoot({defaultLanguage:"tr",loader:{provide:k.a,useFactory:Kt,deps:[Ht.a]}})]]}),t})();Object(n.R)(),r.b().bootstrapModule(Vt).catch(t=>console.error(t))},zn8P:function(t,c){function e(t){return Promise.resolve().then((function(){var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}))}e.keys=function(){return[]},e.resolve=e,t.exports=e,e.id="zn8P"}},[[0,0,5]]]);